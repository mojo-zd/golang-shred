容器的网络可以通过网络空间隔离产生类似独立主机的效果。一个网络栈包括`网卡、回环设备、路由表、iptables`, 对一个进程来说这些要素构成了它发起网络请求的基本环境。
当然，容器也可以和主机共享网络栈，启动容器的时候指定-net=host即可(不开启独立的网络空间)。但是这样有一个弊端，会占用主机资源导致端口产生冲突。所以大多数情况
下容器需要自己的网络空间（拥有属于自己的ip、端口）。

现实环境里，如果想要连接两台注意最直接的方式就是直接用网线连接，如果想要连接多台主机需要通过交换机进行连接。在linux中能够起到虚拟交换机作用的设备叫网桥。他是
一个工作在数据链路层的设备，主要功能是通过mac地址学习将数据包转发到网桥的不同端口上。而为了实现上述目的，Docker 项目会默认在宿主机上创建一个名叫 docker0 的
网桥，凡是连接在 docker0 网桥上的容器，就可以通过它来进行通信。

可是，我们又该如何把这些容器“连接”到 docker0 网桥上呢？这时候，我们就需要使用一种名叫 Veth Pair 的虚拟设备了。Veth Pair 设备的特点是：它被创建出来后，
总是以两张虚拟网卡（Veth Peer）的形式成对出现的。并且，从其中一个“网卡”发出的数据包，可以直接出现在与它对应的另一张“网卡”上，哪怕这两个“网卡”在不同的 
Network Namespace 里。


### 在宿主机上执行 查看数据包的流向
```
$ iptables -t raw -A OUTPUT -p icmp -j TRACE
$ iptables -t raw -A PREROUTING -p icmp -j TRACE
```